<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>NewRelic::Control</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
    <script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            NewRelic::Control 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/new_relic/control_rb.html">lib/new_relic/control.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
The <a href="Control.html">Control</a> is a singleton responsible for the
startup and initialization sequence. The initializer uses a <a
href="LocalEnvironment.html">LocalEnvironment</a> to detect the framework
and instantiates the framework specific subclass.
</p>
<p>
The <a href="Control.html">Control</a> also implements some of the public
API for the agent.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>#</dt>
        <dd>
            <ul>
                
                <li><a href="#M001021">[]</a>,</li>
                
                <li><a href="#M001025">[]=</a></li>
                
            </ul>
        </dd>
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M001062">add_instrumentation</a>,</li>
                
                <li><a href="#M001043">agent_enabled?</a>,</li>
                
                <li><a href="#M001028">apdex_t</a>,</li>
                
                <li><a href="#M001054">api_server</a>,</li>
                
                <li><a href="#M001044">app</a>,</li>
                
                <li><a href="#M001048">app_names</a>,</li>
                
                <li><a href="#M001027">append_environment_info</a>,</li>
                
                <li><a href="#M001066">append_environment_info</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M001034">capture_params</a>,</li>
                
                <li><a href="#M001077">config_file</a>,</li>
                
                <li><a href="#M001067">convert_to_ip_address</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M001036">developer_mode?</a>,</li>
                
                <li><a href="#M001047">dispatcher</a>,</li>
                
                <li><a href="#M001046">dispatcher_instance_id</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M001037">episodes_enabled?</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M001026">fetch</a>,</li>
                
                <li><a href="#M001045">framework</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M001057">http_connection</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M001017">init_plugin</a>,</li>
                
                <li><a href="#M001063">install_instrumentation</a>,</li>
                
                <li><a href="#M001061">install_shim</a>,</li>
                
                <li><a href="#M001016">instance</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M001033">license_key</a>,</li>
                
                <li><a href="#M001090">load_instrumentation_files</a>,</li>
                
                <li><a href="#M001064">load_samplers</a>,</li>
                
                <li><a href="#M001059">log</a>,</li>
                
                <li><a href="#M001060">log!</a>,</li>
                
                <li><a href="#M001078">log_path</a></li>
                
            </ul>
        </dd>
    
        <dt>M</dt>
        <dd>
            <ul>
                
                <li><a href="#M001072">merge_defaults</a>,</li>
                
                <li><a href="#M001087">merge_options</a>,</li>
                
                <li><a href="#M001035">monitor_mode?</a>,</li>
                
                <li><a href="#M001038">multi_threaded?</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M001081">new</a>,</li>
                
                <li><a href="#M001079">new_instance</a>,</li>
                
                <li><a href="#M001083">newrelic_root</a>,</li>
                
                <li><a href="#M001086">newrelic_root</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M001041">post_size_limit</a>,</li>
                
                <li><a href="#M001015">profiling=</a>,</li>
                
                <li><a href="#M001013">profiling?</a>,</li>
                
                <li><a href="#M001014">profiling_available?</a>,</li>
                
                <li><a href="#M001055">proxy_server</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M001053">server</a>,</li>
                
                <li><a href="#M001056">server_from_host</a>,</li>
                
                <li><a href="#M001022">settings</a>,</li>
                
                <li><a href="#M001074">setup_log</a>,</li>
                
                <li><a href="#M001018">start_agent</a>,</li>
                
                <li><a href="#M001042">sync_startup</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M001058">to_s</a>,</li>
                
                <li><a href="#M001076">to_stdout</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M001051">use_ssl?</a>,</li>
                
                <li><a href="#M001040">use_textmate?</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M001049">validate_seed</a>,</li>
                
                <li><a href="#M001050">validate_token</a>,</li>
                
                <li><a href="#M001052">verify_certificate?</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="Control/External.html">NewRelic::Control::External</a></li>
        
        <li><span class="type">CLASS</span> <a href="Control/Merb.html">NewRelic::Control::Merb</a></li>
        
        <li><span class="type">CLASS</span> <a href="Control/Rails.html">NewRelic::Control::Rails</a></li>
        
        <li><span class="type">CLASS</span> <a href="Control/Rails3.html">NewRelic::Control::Rails3</a></li>
        
        <li><span class="type">CLASS</span> <a href="Control/Ruby.html">NewRelic::Control::Ruby</a></li>
        
        <li><span class="type">CLASS</span> <a href="Control/Server.html">NewRelic::Control::Server</a></li>
        
        <li><span class="type">CLASS</span> <a href="Control/Sinatra.html">NewRelic::Control::Sinatra</a></li>
        
    </ul>
    

    

    
    <div class="sectiontitle">Attributes</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [RW]
            </td>
            <td class='attr-name'>log_file</td>
            <td class='attr-desc'></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [W]
            </td>
            <td class='attr-name'>env</td>
            <td class='attr-desc'><p>
The env is the setting used to identify which section of the newrelic.yml
to load. This defaults to a framework specific value, such as
ENV[&#8216;RAILS_ENV&#8217;] but can be overridden as long as you set it
before calling <a href="Control.html#M001017">init_plugin</a>
</p></td>
        </tr>
        
        <tr valign='top'>
            <td class='attr-rw'>
                [R]
            </td>
            <td class='attr-name'>local_env</td>
            <td class='attr-desc'></td>
        </tr>
        
    </table>
    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M001016">
                    
                    <a name="M001016"></a><b>instance</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Access the <a href="Control.html">Control</a> singleton, lazy initialized
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001016_source')" id="l_M001016_source">show</a>
                        
                    </p>
                    <div id="M001016_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 53</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">instance</span>
      <span class="ruby-ivar">@instance</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">new_instance</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001081">
                    
                    <a name="M001081"></a><b>new</b>(local_env)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001081_source')" id="l_M001081_source">show</a>
                        
                    </p>
                    <div id="M001081_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 464</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-identifier">local_env</span>
      <span class="ruby-ivar">@local_env</span> = <span class="ruby-identifier">local_env</span>
      <span class="ruby-ivar">@instrumentation_files</span> = []
      <span class="ruby-identifier">newrelic_file</span> = <span class="ruby-identifier">config_file</span>
      <span class="ruby-comment cmt"># Next two are for populating the newrelic.yml via erb binding, necessary</span>
      <span class="ruby-comment cmt"># when using the default newrelic.yml file</span>
      <span class="ruby-identifier">generated_for_user</span> = <span class="ruby-value str">''</span>
      <span class="ruby-identifier">license_key</span>=<span class="ruby-value str">''</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">config_file</span>)
        <span class="ruby-identifier">log!</span> <span class="ruby-node">&quot;Cannot find newrelic.yml file at #{config_file}.&quot;</span>
        <span class="ruby-ivar">@yaml</span> = {}
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@yaml</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>(<span class="ruby-constant">ERB</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">config_file</span>)).<span class="ruby-identifier">result</span>(<span class="ruby-identifier">binding</span>))
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ScriptError</span>, <span class="ruby-constant">StandardError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Error reading newrelic.yml file: #{e}&quot;</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Class Protected methods</div>
            
            <div class="method">
                <div class="title" id="M001079">
                    
                    <a name="M001079"></a><b>new_instance</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Create the concrete class for environment specific behavior:
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001079_source')" id="l_M001079_source">show</a>
                        
                    </p>
                    <div id="M001079_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 450</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">new_instance</span>
      <span class="ruby-ivar">@local_env</span> = <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">LocalEnvironment</span>.<span class="ruby-identifier">new</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">framework</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:test</span>
        <span class="ruby-identifier">require</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">newrelic_root</span>, <span class="ruby-value str">&quot;test&quot;</span>, <span class="ruby-value str">&quot;config&quot;</span>, <span class="ruby-value str">&quot;test_control.rb&quot;</span>)
        <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Control</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@local_env</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">begin</span>
          <span class="ruby-identifier">require</span> <span class="ruby-node">&quot;new_relic/control/#{@local_env.framework}.rb&quot;</span>
        <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Control</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">framework</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">capitalize</span>).<span class="ruby-identifier">new</span> <span class="ruby-ivar">@local_env</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001083">
                    
                    <a name="M001083"></a><b>newrelic_root</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The root directory for the plugin or gem
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001083_source')" id="l_M001083_source">show</a>
                        
                    </p>
                    <div id="M001083_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 485</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">newrelic_root</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword kw">__FILE__</span>),<span class="ruby-value str">&quot;..&quot;</span>,<span class="ruby-value str">&quot;..&quot;</span>))
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001021">
                    
                    <a name="M001021"></a><b>[]</b>(key)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001021_source')" id="l_M001021_source">show</a>
                        
                    </p>
                    <div id="M001021_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 120</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">key</span>)
      <span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">key</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001025">
                    
                    <a name="M001025"></a><b>[]=</b>(key, value)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001025_source')" id="l_M001025_source">show</a>
                        
                    </p>
                    <div id="M001025_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 141</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
      <span class="ruby-identifier">settings</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001062">
                    
                    <a name="M001062"></a><b>add_instrumentation</b>(pattern)
                    
                </div>
                
                <div class="description">
                  <p>
Add instrumentation. Don&#8217;t call this directly. Use <a
href="Agent.html#M000949">NewRelic::Agent#add_instrumentation</a>. This
will load the file synchronously if we&#8217;ve already loaded the default
instrumentation.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001062_source')" id="l_M001062_source">show</a>
                        
                    </p>
                    <div id="M001062_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 326</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_instrumentation</span> <span class="ruby-identifier">pattern</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@instrumented</span>
        <span class="ruby-identifier">load_instrumentation_files</span> <span class="ruby-identifier">pattern</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-ivar">@instrumentation_files</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">pattern</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001043">
                    
                    <a name="M001043"></a><b>agent_enabled?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
True if dev mode or monitor mode are enabled, and we are running inside a
valid dispatcher like mongrel or passenger. Can be overridden by
NEWRELIC_ENABLE env variable, monitor_daemons config option when true, or
agent_enabled config option when true or false.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001043_source')" id="l_M001043_source">show</a>
                        
                    </p>
                    <div id="M001043_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 199</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">agent_enabled?</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">developer_mode?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">monitor_mode?</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'agent_enabled'</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/true|on|yes/i</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'agent_enabled'</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'agent_enabled'</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">'auto'</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'NEWRELIC_ENABLE'</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/false|off|no/i</span> 
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'monitor_daemons'</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/true|on|yes/i</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'NEWRELIC_ENABLE'</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/true|on|yes/i</span>
      <span class="ruby-comment cmt"># When in 'auto' mode the agent is enabled if there is a known</span>
      <span class="ruby-comment cmt"># dispatcher running</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">dispatcher</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001028">
                    
                    <a name="M001028"></a><b>apdex_t</b>()
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Agent.html">Agent</a> config conveniences
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001028_source')" id="l_M001028_source">show</a>
                        
                    </p>
                    <div id="M001028_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 158</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">apdex_t</span>
      <span class="ruby-comment cmt"># Always initialized with a default</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'apdex_t'</span>).<span class="ruby-identifier">to_f</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001054">
                    
                    <a name="M001054"></a><b>api_server</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001054_source')" id="l_M001054_source">show</a>
                        
                    </p>
                    <div id="M001054_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 244</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">api_server</span>
      <span class="ruby-identifier">api_host</span> = <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'api_host'</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">'rpm.newrelic.com'</span> 
      <span class="ruby-ivar">@api_server</span> <span class="ruby-operator">||=</span> 
      <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Control</span><span class="ruby-operator">::</span><span class="ruby-constant">Server</span>.<span class="ruby-identifier">new</span> \
      <span class="ruby-identifier">api_host</span>, 
       (<span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'api_port'</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'port'</span>] <span class="ruby-operator">||</span> (<span class="ruby-identifier">use_ssl?</span> <span class="ruby-value">? </span><span class="ruby-value">443</span> <span class="ruby-operator">:</span> <span class="ruby-value">80</span>)).<span class="ruby-identifier">to_i</span>, 
      <span class="ruby-keyword kw">nil</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001044">
                    
                    <a name="M001044"></a><b>app</b>()
                    
                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Control.html#M001045">framework</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001044_source')" id="l_M001044_source">show</a>
                        
                    </p>
                    <div id="M001044_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 210</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">app</span>
      <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">framework</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001048">
                    
                    <a name="M001048"></a><b>app_names</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001048_source')" id="l_M001048_source">show</a>
                        
                    </p>
                    <div id="M001048_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 221</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">app_names</span>
      <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'app_name'</span>] <span class="ruby-operator">?</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'app_name'</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">';'</span>) <span class="ruby-operator">:</span> []
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001027">
                    
                    <a name="M001027"></a><b>append_environment_info</b>(name, value)
                    
                </div>
                
                <div class="description">
                  <p>
Add your own environment value to track for change detection. The name and
value should be stable and not vary across app processes on the same host.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001027_source')" id="l_M001027_source">show</a>
                        
                    </p>
                    <div id="M001027_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 151</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">append_environment_info</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
      <span class="ruby-identifier">local_env</span>.<span class="ruby-identifier">record_environment_info</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">value</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001034">
                    
                    <a name="M001034"></a><b>capture_params</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001034_source')" id="l_M001034_source">show</a>
                        
                    </p>
                    <div id="M001034_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 165</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">capture_params</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'capture_params'</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001036">
                    
                    <a name="M001036"></a><b>developer_mode?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
True if we are capturing data and displaying in /newrelic
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001036_source')" id="l_M001036_source">show</a>
                        
                    </p>
                    <div id="M001036_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 173</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">developer_mode?</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'developer_mode'</span>, <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'developer'</span>))
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001047">
                    
                    <a name="M001047"></a><b>dispatcher</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001047_source')" id="l_M001047_source">show</a>
                        
                    </p>
                    <div id="M001047_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 218</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dispatcher</span>
      (<span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'dispatcher'</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'dispatcher'</span>].<span class="ruby-identifier">to_sym</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">dispatcher</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001046">
                    
                    <a name="M001046"></a><b>dispatcher_instance_id</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001046_source')" id="l_M001046_source">show</a>
                        
                    </p>
                    <div id="M001046_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 215</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dispatcher_instance_id</span>
      <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'dispatcher_instance_id'</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">dispatcher_instance_id</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001037">
                    
                    <a name="M001037"></a><b>episodes_enabled?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001037_source')" id="l_M001037_source">show</a>
                        
                    </p>
                    <div id="M001037_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 177</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">episodes_enabled?</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'episodes_enabled'</span>, <span class="ruby-keyword kw">true</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001026">
                    
                    <a name="M001026"></a><b>fetch</b>(key, default=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001026_source')" id="l_M001026_source">show</a>
                        
                    </p>
                    <div id="M001026_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 145</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">default</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">settings</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">default</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001045">
                    
                    <a name="M001045"></a><b>framework</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Control.html#M001044">app</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M001057">
                    
                    <a name="M001057"></a><b>http_connection</b>(host = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Return the Net::HTTP with proxy configuration given the
NewRelic::Control::Server object. Default is the collector but for api
calls you need to pass <a href="Control.html#M001054">api_server</a>
</p>
<p>
Experimental support for SSL verification: swap &#8216;VERIFY_NONE&#8217;
for &#8216;VERIFY_PEER&#8217; line to try it out If verification fails,
uncomment the &#8216;http.ca_file&#8217; line and it will use the included
certificate.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001057_source')" id="l_M001057_source">show</a>
                        
                    </p>
                    <div id="M001057_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 272</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">http_connection</span>(<span class="ruby-identifier">host</span> = <span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">host</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">server</span>
      <span class="ruby-comment cmt"># Proxy returns regular HTTP if @proxy_host is nil (the default)</span>
      <span class="ruby-identifier">http_class</span> = <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span><span class="ruby-operator">::</span><span class="ruby-constant">Proxy</span>(<span class="ruby-identifier">proxy_server</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">proxy_server</span>.<span class="ruby-identifier">port</span>, 
                                    <span class="ruby-identifier">proxy_server</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">proxy_server</span>.<span class="ruby-identifier">password</span>)
      <span class="ruby-identifier">http</span> = <span class="ruby-identifier">http_class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">host</span>.<span class="ruby-identifier">ip</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">host</span>.<span class="ruby-identifier">port</span>)
      <span class="ruby-identifier">log</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-node">&quot;Http Connection opened to #{host.ip||host.name}:#{host.port}&quot;</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">use_ssl?</span>
        <span class="ruby-identifier">http</span>.<span class="ruby-identifier">use_ssl</span> = <span class="ruby-keyword kw">true</span>
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">verify_certificate?</span>
          <span class="ruby-identifier">http</span>.<span class="ruby-identifier">verify_mode</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_PEER</span>
          <span class="ruby-identifier">http</span>.<span class="ruby-identifier">ca_file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword kw">__FILE__</span>), <span class="ruby-value str">'..'</span>, <span class="ruby-value str">'..'</span>, <span class="ruby-value str">'cert'</span>, <span class="ruby-value str">'cacert.pem'</span>)
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">http</span>.<span class="ruby-identifier">verify_mode</span> = <span class="ruby-constant">OpenSSL</span><span class="ruby-operator">::</span><span class="ruby-constant">SSL</span><span class="ruby-operator">::</span><span class="ruby-constant">VERIFY_NONE</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">http</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001017">
                    
                    <a name="M001017"></a><b>init_plugin</b>(options={})
                    
                </div>
                
                <div class="description">
                  <p>
Initialize the plugin/gem and start the agent. This does the necessary
configuration based on the framework environment and determines whether or
not to start the agent. If the agent is not going to be started then it
loads the agent shim which has stubs for all the external api.
</p>
<p>
This may be invoked multiple times, as long as you don&#8217;t attempt to
uninstall the agent after it has been started.
</p>
<p>
If the plugin is initialized and it determines that the agent is not
enabled, it will skip starting it and install the shim. But if you later
call this with <tt>:agent_enabled =&gt; true</tt>, then it will install the
real agent and start it.
</p>
<p>
What determines whether the agent is launched is the result of calling
agent_enabled? This will indicate whether the instrumentation should/will
be installed. If we&#8217;re in a mode where tracers are not installed then
we should not start the agent.
</p>
<p>
Subclasses are not allowed to override, but must implement init_config({})
which is called at most once.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001017_source')" id="l_M001017_source">show</a>
                        
                    </p>
                    <div id="M001017_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 76</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">init_plugin</span>(<span class="ruby-identifier">options</span>={})
      <span class="ruby-identifier">options</span>[<span class="ruby-value str">'app_name'</span>] = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'NEWRELIC_APP_NAME'</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'NEWRELIC_APP_NAME'</span>]
 
      <span class="ruby-identifier">require</span> <span class="ruby-value str">'new_relic/agent'</span>
      <span class="ruby-comment cmt"># Merge the stringified options into the config as overrides:</span>
      <span class="ruby-identifier">logger_override</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:log</span>)
      <span class="ruby-identifier">environment_name</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:env</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">env</span> = <span class="ruby-identifier">environment_name</span>
      <span class="ruby-identifier">dispatcher</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:dispatcher</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">dispatcher</span> = <span class="ruby-identifier">dispatcher</span> 
      <span class="ruby-identifier">dispatcher_instance_id</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:dispatcher_instance_id</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">dispatcher_instance_id</span> = <span class="ruby-identifier">dispatcher_instance_id</span>

      <span class="ruby-comment cmt"># Clear out the settings, if they've already been loaded.  It may be that</span>
      <span class="ruby-comment cmt"># between calling init_plugin the first time and the second time, the env</span>
      <span class="ruby-comment cmt"># has been overridden</span>
      <span class="ruby-ivar">@settings</span> = <span class="ruby-keyword kw">nil</span>
      <span class="ruby-identifier">settings</span>
      <span class="ruby-identifier">merge_options</span>(<span class="ruby-identifier">options</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">logger_override</span>
        <span class="ruby-ivar">@log</span> = <span class="ruby-identifier">logger_override</span>
        <span class="ruby-comment cmt"># Try to grab the log filename</span>
        <span class="ruby-ivar">@log_file</span> = <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">instance_eval</span> { <span class="ruby-ivar">@logdev</span>.<span class="ruby-identifier">filename</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span> }
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-comment cmt"># An artifact of earlier implementation, we put both #add_method_tracer and #trace_execution</span>
      <span class="ruby-comment cmt"># methods in the module methods.</span>
      <span class="ruby-constant">Module</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">:include</span>, <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodTracer</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassMethods</span>
      <span class="ruby-constant">Module</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">:include</span>, <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span><span class="ruby-operator">::</span><span class="ruby-constant">MethodTracer</span><span class="ruby-operator">::</span><span class="ruby-constant">InstanceMethods</span>
      <span class="ruby-identifier">init_config</span>(<span class="ruby-identifier">options</span>)
      <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span>.<span class="ruby-identifier">agent</span> = <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span>.<span class="ruby-identifier">instance</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">agent_enabled?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span>.<span class="ruby-identifier">instance</span>.<span class="ruby-identifier">started?</span>
        <span class="ruby-identifier">setup_log</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">logger_override</span>
        <span class="ruby-identifier">start_agent</span>
        <span class="ruby-identifier">install_instrumentation</span>
        <span class="ruby-identifier">load_samplers</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'disable_samplers'</span>]
        <span class="ruby-identifier">local_env</span>.<span class="ruby-identifier">gather_environment_info</span>
        <span class="ruby-identifier">append_environment_info</span>
      <span class="ruby-keyword kw">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">agent_enabled?</span>
        <span class="ruby-identifier">install_shim</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001063">
                    
                    <a name="M001063"></a><b>install_instrumentation</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001063_source')" id="l_M001063_source">show</a>
                        
                    </p>
                    <div id="M001063_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 333</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">install_instrumentation</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@instrumented</span>
      
      <span class="ruby-ivar">@instrumented</span> = <span class="ruby-keyword kw">true</span>
      
      <span class="ruby-comment cmt"># Instrumentation for the key code points inside rails for monitoring by NewRelic.</span>
      <span class="ruby-comment cmt"># note this file is loaded only if the newrelic agent is enabled (through config/newrelic.yml)</span>
      <span class="ruby-identifier">instrumentation_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword kw">__FILE__</span>), <span class="ruby-value str">'agent'</span>,<span class="ruby-value str">'instrumentation'</span>)
      <span class="ruby-ivar">@instrumentation_files</span> <span class="ruby-operator">&lt;&lt;</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">instrumentation_path</span>, <span class="ruby-value str">'*.rb'</span>) <span class="ruby-operator">&lt;&lt;</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">instrumentation_path</span>, <span class="ruby-identifier">app</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value str">'*.rb'</span>)
      <span class="ruby-ivar">@instrumentation_files</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span> <span class="ruby-identifier">pattern</span> <span class="ruby-operator">|</span>  <span class="ruby-identifier">load_instrumentation_files</span> <span class="ruby-identifier">pattern</span> }
      <span class="ruby-identifier">log</span>.<span class="ruby-identifier">debug</span> <span class="ruby-value str">&quot;Finished instrumentation&quot;</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001061">
                    
                    <a name="M001061"></a><b>install_shim</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Install stubs to the proper location so the app code will not fail if the
agent is not running.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001061_source')" id="l_M001061_source">show</a>
                        
                    </p>
                    <div id="M001061_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 316</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">install_shim</span>
      <span class="ruby-comment cmt"># Once we install instrumentation, you can't undo that by installing the shim.</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-value str">&quot;Cannot install the Agent shim after instrumentation has already been installed!&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@instrumented</span>
      <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span>.<span class="ruby-identifier">agent</span> = <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span><span class="ruby-operator">::</span><span class="ruby-constant">ShimAgent</span>.<span class="ruby-identifier">instance</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001033">
                    
                    <a name="M001033"></a><b>license_key</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001033_source')" id="l_M001033_source">show</a>
                        
                    </p>
                    <div id="M001033_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 162</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">license_key</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'license_key'</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001064">
                    
                    <a name="M001064"></a><b>load_samplers</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001064_source')" id="l_M001064_source">show</a>
                        
                    </p>
                    <div id="M001064_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 348</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_samplers</span>
      <span class="ruby-identifier">agent</span> = <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span>.<span class="ruby-identifier">instance</span>
      <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span><span class="ruby-operator">::</span><span class="ruby-constant">Sampler</span>.<span class="ruby-identifier">sampler_classes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">subclass</span> <span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">begin</span>
          <span class="ruby-identifier">log</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;#{subclass.name} not supported on this platform.&quot;</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">supported_on_this_platform?</span>
          <span class="ruby-identifier">sampler</span> = <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">new</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">use_harvest_sampler?</span>
            <span class="ruby-identifier">agent</span>.<span class="ruby-identifier">stats_engine</span>.<span class="ruby-identifier">add_harvest_sampler</span> <span class="ruby-identifier">sampler</span>
            <span class="ruby-identifier">log</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Registered #{subclass.name} for harvest time sampling&quot;</span>
          <span class="ruby-keyword kw">else</span>            
            <span class="ruby-identifier">agent</span>.<span class="ruby-identifier">stats_engine</span>.<span class="ruby-identifier">add_sampler</span> <span class="ruby-identifier">sampler</span>
            <span class="ruby-identifier">log</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Registered #{subclass.name} for periodic sampling&quot;</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span><span class="ruby-operator">::</span><span class="ruby-constant">Sampler</span><span class="ruby-operator">::</span><span class="ruby-constant">Unsupported</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
          <span class="ruby-identifier">log</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;#{subclass} sampler not available: #{e}&quot;</span>
        <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
          <span class="ruby-identifier">log</span>.<span class="ruby-identifier">error</span> <span class="ruby-node">&quot;Error registering sampler: #{e}, #{e.backtrace.join(&quot;\n&quot;)}&quot;</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001059">
                    
                    <a name="M001059"></a><b>log</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001059_source')" id="l_M001059_source">show</a>
                        
                    </p>
                    <div id="M001059_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 294</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log</span>
      <span class="ruby-comment cmt"># If we try to get a log before one has been set up, return a stdout log</span>
      <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@log</span>
        <span class="ruby-identifier">l</span> = <span class="ruby-constant">Logger</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">STDOUT</span>)
        <span class="ruby-identifier">l</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">INFO</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">l</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-ivar">@log</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001060">
                    
                    <a name="M001060"></a><b>log!</b>(msg, level=:info)
                    
                </div>
                
                <div class="description">
                  <p>
send the given message to STDOUT so that it shows up in the console. This
should be used for important informational messages at boot. The <a
href="Control.html#M001076">to_stdout</a> may be implemented differently by
different config subclasses. This will NOT print anything if tracers are
not enabled
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001060_source')" id="l_M001060_source">show</a>
                        
                    </p>
                    <div id="M001060_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 308</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log!</span>(<span class="ruby-identifier">msg</span>, <span class="ruby-identifier">level</span>=<span class="ruby-identifier">:info</span>)
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@settings</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">agent_enabled?</span>
      <span class="ruby-identifier">to_stdout</span> <span class="ruby-identifier">msg</span>
      <span class="ruby-identifier">log</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">level</span>, <span class="ruby-identifier">msg</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@log</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001035">
                    
                    <a name="M001035"></a><b>monitor_mode?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
True if we are sending data to the server, monitoring production
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001035_source')" id="l_M001035_source">show</a>
                        
                    </p>
                    <div id="M001035_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 169</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">monitor_mode?</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'monitor_mode'</span>, <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'enabled'</span>))
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001038">
                    
                    <a name="M001038"></a><b>multi_threaded?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
True if the app runs in multi-threaded mode
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001038_source')" id="l_M001038_source">show</a>
                        
                    </p>
                    <div id="M001038_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 181</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">multi_threaded?</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'multi_threaded'</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001041">
                    
                    <a name="M001041"></a><b>post_size_limit</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001041_source')" id="l_M001041_source">show</a>
                        
                    </p>
                    <div id="M001041_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 188</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">post_size_limit</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'post_size_limit'</span>, <span class="ruby-value">2</span> <span class="ruby-operator">*</span> <span class="ruby-value">1024</span> <span class="ruby-operator">*</span> <span class="ruby-value">1024</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001015">
                    
                    <a name="M001015"></a><b>profiling=</b>(val)
                    
                </div>
                
                <div class="description">
                  <p>
Set the flag for capturing profiles in dev mode. If RubyProf is not loaded
a true value is ignored.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001015_source')" id="l_M001015_source">show</a>
                        
                    </p>
                    <div id="M001015_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 34</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profiling=</span>(<span class="ruby-identifier">val</span>)
      <span class="ruby-ivar">@profiling</span> = <span class="ruby-identifier">profiling_available?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">val</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">RubyProf</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001013">
                    
                    <a name="M001013"></a><b>profiling?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
A flag used in dev mode to indicate if profiling is available
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001013_source')" id="l_M001013_source">show</a>
                        
                    </p>
                    <div id="M001013_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 21</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profiling?</span>
      <span class="ruby-ivar">@profiling</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001014">
                    
                    <a name="M001014"></a><b>profiling_available?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001014_source')" id="l_M001014_source">show</a>
                        
                    </p>
                    <div id="M001014_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 25</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profiling_available?</span>
      <span class="ruby-ivar">@profiling_available</span> <span class="ruby-operator">||=</span> 
      <span class="ruby-keyword kw">begin</span>
        <span class="ruby-identifier">require</span> <span class="ruby-value str">'ruby-prof'</span>
        <span class="ruby-keyword kw">true</span>
      <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>; <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001055">
                    
                    <a name="M001055"></a><b>proxy_server</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001055_source')" id="l_M001055_source">show</a>
                        
                    </p>
                    <div id="M001055_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 253</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">proxy_server</span>
      <span class="ruby-ivar">@proxy_server</span> <span class="ruby-operator">||=</span>
      <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Control</span><span class="ruby-operator">::</span><span class="ruby-constant">ProxyServer</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'proxy_host'</span>], <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'proxy_port'</span>], <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'proxy_user'</span>], <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'proxy_pass'</span>] 
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001053">
                    
                    <a name="M001053"></a><b>server</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001053_source')" id="l_M001053_source">show</a>
                        
                    </p>
                    <div id="M001053_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 240</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">server</span>
      <span class="ruby-ivar">@remote_server</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">server_from_host</span>(<span class="ruby-keyword kw">nil</span>)  
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001056">
                    
                    <a name="M001056"></a><b>server_from_host</b>(hostname=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001056_source')" id="l_M001056_source">show</a>
                        
                    </p>
                    <div id="M001056_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 258</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">server_from_host</span>(<span class="ruby-identifier">hostname</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-identifier">host</span> = <span class="ruby-identifier">hostname</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'host'</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">'collector.newrelic.com'</span>
      
      <span class="ruby-comment cmt"># if the host is not an IP address, turn it into one</span>
      <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Control</span><span class="ruby-operator">::</span><span class="ruby-constant">Server</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">host</span>, (<span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'port'</span>] <span class="ruby-operator">||</span> (<span class="ruby-identifier">use_ssl?</span> <span class="ruby-value">? </span><span class="ruby-value">443</span> <span class="ruby-operator">:</span> <span class="ruby-value">80</span>)).<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">convert_to_ip_address</span>(<span class="ruby-identifier">host</span>) 
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001022">
                    
                    <a name="M001022"></a><b>settings</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001022_source')" id="l_M001022_source">show</a>
                        
                    </p>
                    <div id="M001022_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 124</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">settings</span>
      <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@settings</span>
        <span class="ruby-ivar">@settings</span> = (<span class="ruby-ivar">@yaml</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">merge_defaults</span>(<span class="ruby-ivar">@yaml</span>[<span class="ruby-identifier">env</span>])) <span class="ruby-operator">||</span> {}
        <span class="ruby-comment cmt"># At the time we bind the settings, we also need to run this little piece</span>
        <span class="ruby-comment cmt"># of magic which allows someone to augment the id with the app name, necessary</span>
        <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'multi_homed'</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">app_names</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">dispatcher_instance_id</span>
            <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">dispatcher_instance_id</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;:#{app_names.first}&quot;</span>
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-ivar">@local_env</span>.<span class="ruby-identifier">dispatcher_instance_id</span> = <span class="ruby-identifier">app_names</span>.<span class="ruby-identifier">first</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
        
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-ivar">@settings</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001018">
                    
                    <a name="M001018"></a><b>start_agent</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Install the real agent into the <a href="Agent.html">Agent</a> module, and
issue the start command.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001018_source')" id="l_M001018_source">show</a>
                        
                    </p>
                    <div id="M001018_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 116</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_agent</span>
      <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span>.<span class="ruby-identifier">agent</span>.<span class="ruby-identifier">start</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001042">
                    
                    <a name="M001042"></a><b>sync_startup</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001042_source')" id="l_M001042_source">show</a>
                        
                    </p>
                    <div id="M001042_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 192</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sync_startup</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'sync_startup'</span>, <span class="ruby-keyword kw">false</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001058">
                    
                    <a name="M001058"></a><b>to_s</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001058_source')" id="l_M001058_source">show</a>
                        
                    </p>
                    <div id="M001058_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 290</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
      <span class="ruby-node">&quot;Control[#{self.app}]&quot;</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001051">
                    
                    <a name="M001051"></a><b>use_ssl?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001051_source')" id="l_M001051_source">show</a>
                        
                    </p>
                    <div id="M001051_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 231</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">use_ssl?</span>
      <span class="ruby-ivar">@use_ssl</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'ssl'</span>, <span class="ruby-keyword kw">false</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001040">
                    
                    <a name="M001040"></a><b>use_textmate?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
True if we should view files in textmate
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001040_source')" id="l_M001040_source">show</a>
                        
                    </p>
                    <div id="M001040_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 185</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">use_textmate?</span>
      <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'textmate'</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001049">
                    
                    <a name="M001049"></a><b>validate_seed</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001049_source')" id="l_M001049_source">show</a>
                        
                    </p>
                    <div id="M001049_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 224</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validate_seed</span>
      <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'validate_seed'</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'NR_VALIDATE_SEED'</span>]   
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001050">
                    
                    <a name="M001050"></a><b>validate_token</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001050_source')" id="l_M001050_source">show</a>
                        
                    </p>
                    <div id="M001050_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 227</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validate_token</span>
      <span class="ruby-keyword kw">self</span>[<span class="ruby-value str">'validate_token'</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'NR_VALIDATE_TOKEN'</span>]
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001052">
                    
                    <a name="M001052"></a><b>verify_certificate?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001052_source')" id="l_M001052_source">show</a>
                        
                    </p>
                    <div id="M001052_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 235</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">verify_certificate?</span>
      <span class="ruby-comment cmt">#this can only be on when SSL is enabled</span>
      <span class="ruby-ivar">@verify_certificate</span> <span class="ruby-operator">||=</span> ( <span class="ruby-identifier">use_ssl?</span> <span class="ruby-value">? </span><span class="ruby-identifier">fetch</span>(<span class="ruby-value str">'verify_certificate'</span>, <span class="ruby-keyword kw">false</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M001066">
                    
                    <a name="M001066"></a><b>append_environment_info</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Append framework specific environment information for uploading to the
server for change detection. Override in subclasses
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001066_source')" id="l_M001066_source">show</a>
                        
                    </p>
                    <div id="M001066_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 373</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">append_environment_info</span>; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001077">
                    
                    <a name="M001077"></a><b>config_file</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001077_source')" id="l_M001077_source">show</a>
                        
                    </p>
                    <div id="M001077_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 437</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">config_file</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">root</span>,<span class="ruby-value str">&quot;config&quot;</span>,<span class="ruby-value str">&quot;newrelic.yml&quot;</span>))
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001067">
                    
                    <a name="M001067"></a><b>convert_to_ip_address</b>(host)
                    
                </div>
                
                <div class="description">
                  <p>
Look up the ip address of the host using the pure ruby lookup to prevent
blocking. If that fails, fall back to the regular IPSocket library. Return
nil if we can&#8217;t find the host ip address and don&#8217;t have a good
default.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001067_source')" id="l_M001067_source">show</a>
                        
                    </p>
                    <div id="M001067_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 379</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">convert_to_ip_address</span>(<span class="ruby-identifier">host</span>)
      <span class="ruby-comment cmt"># here we leave it as a host name since the cert verification</span>
      <span class="ruby-comment cmt"># needs it in host form</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">host</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">verify_certificate?</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;localhost&quot;</span>
      <span class="ruby-comment cmt"># Fall back to known ip address in the common case</span>
      <span class="ruby-identifier">ip_address</span> = <span class="ruby-value str">'65.74.177.195'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'collector.newrelic.com'</span>
      <span class="ruby-keyword kw">begin</span>
        <span class="ruby-identifier">ip_address</span> = <span class="ruby-constant">Resolv</span>.<span class="ruby-identifier">getaddress</span>(<span class="ruby-identifier">host</span>)
        <span class="ruby-identifier">log</span>.<span class="ruby-identifier">info</span> <span class="ruby-node">&quot;Resolved #{host} to #{ip_address}&quot;</span>
      <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-identifier">log</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;DNS Error caching IP address: #{e}&quot;</span>
        <span class="ruby-identifier">log</span>.<span class="ruby-identifier">debug</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n   &quot;</span>)
        <span class="ruby-identifier">ip_address</span> = <span class="ruby-constant">IPSocket</span><span class="ruby-operator">::</span><span class="ruby-identifier">getaddress</span> <span class="ruby-identifier">host</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">ip_address</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">ip_address</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001090">
                    
                    <a name="M001090"></a><b>load_instrumentation_files</b>(pattern)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001090_source')" id="l_M001090_source">show</a>
                        
                    </p>
                    <div id="M001090_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 508</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load_instrumentation_files</span> <span class="ruby-identifier">pattern</span>
      <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">pattern</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">begin</span>
          <span class="ruby-identifier">log</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;Processing instrumentation file '#{file}'&quot;</span>
          <span class="ruby-identifier">require</span> <span class="ruby-identifier">file</span>
        <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
          <span class="ruby-identifier">log</span>.<span class="ruby-identifier">error</span> <span class="ruby-node">&quot;Error loading instrumentation file '#{file}': #{e}&quot;</span>
          <span class="ruby-identifier">log</span>.<span class="ruby-identifier">debug</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001078">
                    
                    <a name="M001078"></a><b>log_path</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001078_source')" id="l_M001078_source">show</a>
                        
                    </p>
                    <div id="M001078_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 441</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log_path</span>
      <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">root</span>,<span class="ruby-value str">'log'</span>)
      <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span> <span class="ruby-identifier">path</span>
        <span class="ruby-identifier">path</span> = <span class="ruby-value str">'.'</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001072">
                    
                    <a name="M001072"></a><b>merge_defaults</b>(settings_hash)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001072_source')" id="l_M001072_source">show</a>
                        
                    </p>
                    <div id="M001072_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 397</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge_defaults</span>(<span class="ruby-identifier">settings_hash</span>)
      <span class="ruby-identifier">s</span> = {
        <span class="ruby-value str">'host'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'collector.newrelic.com'</span>,
        <span class="ruby-value str">'ssl'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,
        <span class="ruby-value str">'log_level'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'info'</span>,
        <span class="ruby-value str">'apdex_t'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1.0</span>
      }
      <span class="ruby-identifier">s</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-identifier">settings_hash</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">settings_hash</span>
      <span class="ruby-comment cmt"># monitor_daemons replaced with agent_enabled</span>
      <span class="ruby-identifier">s</span>[<span class="ruby-value str">'agent_enabled'</span>] = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">'monitor_daemons'</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>[<span class="ruby-value str">'agent_enabled'</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'monitor_daemons'</span>)
      <span class="ruby-identifier">s</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001087">
                    
                    <a name="M001087"></a><b>merge_options</b>(options, hash=self)
                    
                </div>
                
                <div class="description">
                  <p>
Merge the given options into the config options. They might be a nested
hash
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001087_source')" id="l_M001087_source">show</a>
                        
                    </p>
                    <div id="M001087_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 494</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge_options</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">hash</span>=<span class="ruby-keyword kw">self</span>)
      <span class="ruby-identifier">options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">val</span> <span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">case</span>
        <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:config</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">next</span> 
        <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
          <span class="ruby-identifier">merge_options</span>(<span class="ruby-identifier">val</span>, <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>] <span class="ruby-operator">||=</span> {})
        <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">val</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>)
        <span class="ruby-keyword kw">else</span> 
          <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>] = <span class="ruby-identifier">val</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001086">
                    
                    <a name="M001086"></a><b>newrelic_root</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001086_source')" id="l_M001086_source">show</a>
                        
                    </p>
                    <div id="M001086_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 488</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">newrelic_root</span>
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">newrelic_root</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001074">
                    
                    <a name="M001074"></a><b>setup_log</b>()
                    
                </div>
                
                <div class="description">
                  <p>
<a href="Control.html">Control</a> subclasses may override this, but it can
be called multiple times.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001074_source')" id="l_M001074_source">show</a>
                        
                    </p>
                    <div id="M001074_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 411</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_log</span>
      <span class="ruby-ivar">@log_file</span> = <span class="ruby-node">&quot;#{log_path}/newrelic_agent.log&quot;</span>
      <span class="ruby-ivar">@log</span> = <span class="ruby-constant">Logger</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@log_file</span>
      
      <span class="ruby-comment cmt"># change the format just for our logger</span>
      
      <span class="ruby-keyword kw">def</span> <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">format_message</span>(<span class="ruby-identifier">severity</span>, <span class="ruby-identifier">timestamp</span>, <span class="ruby-identifier">progname</span>, <span class="ruby-identifier">msg</span>)
        <span class="ruby-node">&quot;[#{timestamp.strftime(&quot;%m/%d/%y %H:%M:%S %z&quot;)} #{Socket.gethostname} (#{$$})] #{severity} : #{msg}\n&quot;</span> 
      <span class="ruby-keyword kw">end</span>
      
      <span class="ruby-comment cmt"># set the log level as specified in the config file</span>
      <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">fetch</span>(<span class="ruby-value str">&quot;log_level&quot;</span>,<span class="ruby-value str">&quot;info&quot;</span>).<span class="ruby-identifier">downcase</span>
      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;debug&quot;</span> <span class="ruby-keyword kw">then</span> <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">DEBUG</span>
      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;info&quot;</span> <span class="ruby-keyword kw">then</span> <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">INFO</span>
      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;warn&quot;</span> <span class="ruby-keyword kw">then</span> <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">WARN</span>
      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;error&quot;</span> <span class="ruby-keyword kw">then</span> <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">ERROR</span>
      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;fatal&quot;</span> <span class="ruby-keyword kw">then</span> <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">FATAL</span>
      <span class="ruby-keyword kw">else</span> <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">INFO</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-ivar">@log</span>
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001076">
                    
                    <a name="M001076"></a><b>to_stdout</b>(msg)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001076_source')" id="l_M001076_source">show</a>
                        
                    </p>
                    <div id="M001076_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/new_relic/control.rb, line 433</span>
    <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">to_stdout</span><span class="ruby-identifier">to_stdout</span>(<span class="ruby-identifier">msg</span>)
      <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;** [NewRelic] &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">msg</span> 
    <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    