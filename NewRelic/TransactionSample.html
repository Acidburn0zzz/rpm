<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>Class: NewRelic::TransactionSample</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/new_relic/transaction_sample/composite_segment.rb
    <li>lib/new_relic/transaction_sample/fake_segment.rb
    <li>lib/new_relic/transaction_sample/segment.rb
    <li>lib/new_relic/transaction_sample/summary_segment.rb
    <li>lib/new_relic/transaction_sample.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="../Object.html">Object</a>
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><a class="include" href="TransactionAnalysis.html">NewRelic::TransactionAnalysis</a>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-count_segments">#count_segments</a>
    
    <li><a href="#method-i-create_segment">#create_segment</a>
    
    <li><a href="#method-i-duration">#duration</a>
    
    <li><a href="#method-i-each_segment">#each_segment</a>
    
    <li><a href="#method-i-each_segment_with_nest_tracking">#each_segment_with_nest_tracking</a>
    
    <li><a href="#method-i-ensure_segment_count_set">#ensure_segment_count_set</a>
    
    <li><a href="#method-i-find_segment">#find_segment</a>
    
    <li><a href="#method-i-omit_segments_with">#omit_segments_with</a>
    
    <li><a href="#method-i-params-3D">#params=</a>
    
    <li><a href="#method-i-path_string">#path_string</a>
    
    <li><a href="#method-i-prepare_to_send">#prepare_to_send</a>
    
    <li><a href="#method-i-start_time">#start_time</a>
    
    <li><a href="#method-i-timestamp">#timestamp</a>
    
    <li><a href="#method-i-to_s">#to_s</a>
    
    <li><a href="#method-i-to_s_compact">#to_s_compact</a>
    
    <li><a href="#method-i-truncate">#truncate</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../CHANGELOG.html">CHANGELOG</a>
  
    <li class="file"><a href="../LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../NewRelic.html">NewRelic</a>
  
    <li><a href="../NewRelic/Agent.html">NewRelic::Agent</a>
  
    <li><a href="../NewRelic/Agent/Agent.html">NewRelic::Agent::Agent</a>
  
    <li><a href="../NewRelic/Agent/Agent/ClassMethods.html">NewRelic::Agent::Agent::ClassMethods</a>
  
    <li><a href="../NewRelic/Agent/Agent/InstanceMethods.html">NewRelic::Agent::Agent::InstanceMethods</a>
  
    <li><a href="../NewRelic/Agent/Agent/InstanceMethods/Connect.html">NewRelic::Agent::Agent::InstanceMethods::Connect</a>
  
    <li><a href="../NewRelic/Agent/Agent/InstanceMethods/Start.html">NewRelic::Agent::Agent::InstanceMethods::Start</a>
  
    <li><a href="../NewRelic/Agent/Agent/InstanceMethods/StartWorkerThread.html">NewRelic::Agent::Agent::InstanceMethods::StartWorkerThread</a>
  
    <li><a href="../NewRelic/Agent/BackgroundLoadingError.html">NewRelic::Agent::BackgroundLoadingError</a>
  
    <li><a href="../NewRelic/Agent/BeaconConfiguration.html">NewRelic::Agent::BeaconConfiguration</a>
  
    <li><a href="../NewRelic/Agent/BrowserMonitoring.html">NewRelic::Agent::BrowserMonitoring</a>
  
    <li><a href="../NewRelic/Agent/BrowserMonitoring/DummyMetricFrame.html">NewRelic::Agent::BrowserMonitoring::DummyMetricFrame</a>
  
    <li><a href="../NewRelic/Agent/BusyCalculator.html">NewRelic::Agent::BusyCalculator</a>
  
    <li><a href="../NewRelic/Agent/Database.html">NewRelic::Agent::Database</a>
  
    <li><a href="../NewRelic/Agent/Database/ConnectionManager.html">NewRelic::Agent::Database::ConnectionManager</a>
  
    <li><a href="../NewRelic/Agent/Database/Obfuscator.html">NewRelic::Agent::Database::Obfuscator</a>
  
    <li><a href="../NewRelic/Agent/ErrorCollector.html">NewRelic::Agent::ErrorCollector</a>
  
    <li><a href="../NewRelic/Agent/ErrorCollector/NoticeError.html">NewRelic::Agent::ErrorCollector::NoticeError</a>
  
    <li><a href="../NewRelic/Agent/ForceDisconnectException.html">NewRelic::Agent::ForceDisconnectException</a>
  
    <li><a href="../NewRelic/Agent/ForceRestartException.html">NewRelic::Agent::ForceRestartException</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation.html">NewRelic::Agent::Instrumentation</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/ActiveRecordInstrumentation.html">NewRelic::Agent::Instrumentation::ActiveRecordInstrumentation</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/ControllerInstrumentation.html">NewRelic::Agent::Instrumentation::ControllerInstrumentation</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/ControllerInstrumentation/ClassMethods.html">NewRelic::Agent::Instrumentation::ControllerInstrumentation::ClassMethods</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/DataMapperInstrumentation.html">NewRelic::Agent::Instrumentation::DataMapperInstrumentation</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/Memcache.html">NewRelic::Agent::Instrumentation::Memcache</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/MetricFrame.html">NewRelic::Agent::Instrumentation::MetricFrame</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/MetricFrame/Pop.html">NewRelic::Agent::Instrumentation::MetricFrame::Pop</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/QueueTime.html">NewRelic::Agent::Instrumentation::QueueTime</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/Rack.html">NewRelic::Agent::Instrumentation::Rack</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/Rails3.html">NewRelic::Agent::Instrumentation::Rails3</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/Rails3/ActionController.html">NewRelic::Agent::Instrumentation::Rails3::ActionController</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/Rails3/ActionView.html">NewRelic::Agent::Instrumentation::Rails3::ActionView</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/Rails3/ActionView/PartialRenderer.html">NewRelic::Agent::Instrumentation::Rails3::ActionView::PartialRenderer</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/Rails3/Errors.html">NewRelic::Agent::Instrumentation::Rails3::Errors</a>
  
    <li><a href="../NewRelic/Agent/Instrumentation/Sinatra.html">NewRelic::Agent::Instrumentation::Sinatra</a>
  
    <li><a href="../NewRelic/Agent/LicenseException.html">NewRelic::Agent::LicenseException</a>
  
    <li><a href="../NewRelic/Agent/MethodTracer.html">NewRelic::Agent::MethodTracer</a>
  
    <li><a href="../NewRelic/Agent/MethodTracer/ClassMethods.html">NewRelic::Agent::MethodTracer::ClassMethods</a>
  
    <li><a href="../NewRelic/Agent/MethodTracer/ClassMethods/AddMethodTracer.html">NewRelic::Agent::MethodTracer::ClassMethods::AddMethodTracer</a>
  
    <li><a href="../NewRelic/Agent/MethodTracer/InstanceMethods.html">NewRelic::Agent::MethodTracer::InstanceMethods</a>
  
    <li><a href="../NewRelic/Agent/MethodTracer/InstanceMethods/TraceExecutionScoped.html">NewRelic::Agent::MethodTracer::InstanceMethods::TraceExecutionScoped</a>
  
    <li><a href="../NewRelic/Agent/PostTooBigException.html">NewRelic::Agent::PostTooBigException</a>
  
    <li><a href="../NewRelic/Agent/Sampler.html">NewRelic::Agent::Sampler</a>
  
    <li><a href="../NewRelic/Agent/Sampler/Unsupported.html">NewRelic::Agent::Sampler::Unsupported</a>
  
    <li><a href="../NewRelic/Agent/Samplers.html">NewRelic::Agent::Samplers</a>
  
    <li><a href="../NewRelic/Agent/Samplers/CpuSampler.html">NewRelic::Agent::Samplers::CpuSampler</a>
  
    <li><a href="../NewRelic/Agent/Samplers/DelayedJobLockSampler.html">NewRelic::Agent::Samplers::DelayedJobLockSampler</a>
  
    <li><a href="../NewRelic/Agent/Samplers/MemorySampler.html">NewRelic::Agent::Samplers::MemorySampler</a>
  
    <li><a href="../NewRelic/Agent/Samplers/MemorySampler/Base.html">NewRelic::Agent::Samplers::MemorySampler::Base</a>
  
    <li><a href="../NewRelic/Agent/Samplers/MemorySampler/JavaHeapSampler.html">NewRelic::Agent::Samplers::MemorySampler::JavaHeapSampler</a>
  
    <li><a href="../NewRelic/Agent/Samplers/MemorySampler/ProcStatus.html">NewRelic::Agent::Samplers::MemorySampler::ProcStatus</a>
  
    <li><a href="../NewRelic/Agent/Samplers/MemorySampler/ShellPS.html">NewRelic::Agent::Samplers::MemorySampler::ShellPS</a>
  
    <li><a href="../NewRelic/Agent/Samplers/ObjectSampler.html">NewRelic::Agent::Samplers::ObjectSampler</a>
  
    <li><a href="../NewRelic/Agent/ServerConnectionException.html">NewRelic::Agent::ServerConnectionException</a>
  
    <li><a href="../NewRelic/Agent/ServerError.html">NewRelic::Agent::ServerError</a>
  
    <li><a href="../NewRelic/Agent/ShimAgent.html">NewRelic::Agent::ShimAgent</a>
  
    <li><a href="../NewRelic/Agent/SlowSql.html">NewRelic::Agent::SlowSql</a>
  
    <li><a href="../NewRelic/Agent/SqlSampler.html">NewRelic::Agent::SqlSampler</a>
  
    <li><a href="../NewRelic/Agent/SqlTrace.html">NewRelic::Agent::SqlTrace</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine.html">NewRelic::Agent::StatsEngine</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/GCProfiler.html">NewRelic::Agent::StatsEngine::GCProfiler</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/GCProfiler/Profiler.html">NewRelic::Agent::StatsEngine::GCProfiler::Profiler</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/GCProfiler/RailsBench.html">NewRelic::Agent::StatsEngine::GCProfiler::RailsBench</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/GCProfiler/Rubinius.html">NewRelic::Agent::StatsEngine::GCProfiler::Rubinius</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/GCProfiler/Ruby19.html">NewRelic::Agent::StatsEngine::GCProfiler::Ruby19</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/MetricStats.html">NewRelic::Agent::StatsEngine::MetricStats</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/MetricStats/Harvest.html">NewRelic::Agent::StatsEngine::MetricStats::Harvest</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/MetricStats/SynchronizedHash.html">NewRelic::Agent::StatsEngine::MetricStats::SynchronizedHash</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/Samplers.html">NewRelic::Agent::StatsEngine::Samplers</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/ScopeStackElement.html">NewRelic::Agent::StatsEngine::ScopeStackElement</a>
  
    <li><a href="../NewRelic/Agent/StatsEngine/Transactions.html">NewRelic::Agent::StatsEngine::Transactions</a>
  
    <li><a href="../NewRelic/Agent/TransactionInfo.html">NewRelic::Agent::TransactionInfo</a>
  
    <li><a href="../NewRelic/Agent/TransactionSampleBuilder.html">NewRelic::Agent::TransactionSampleBuilder</a>
  
    <li><a href="../NewRelic/Agent/TransactionSampler.html">NewRelic::Agent::TransactionSampler</a>
  
    <li><a href="../NewRelic/Agent/TransactionSqlData.html">NewRelic::Agent::TransactionSqlData</a>
  
    <li><a href="../NewRelic/Agent/WorkerLoop.html">NewRelic::Agent::WorkerLoop</a>
  
    <li><a href="../NewRelic/ApdexStats.html">NewRelic::ApdexStats</a>
  
    <li><a href="../NewRelic/BasicStats.html">NewRelic::BasicStats</a>
  
    <li><a href="../NewRelic/ChainedCall.html">NewRelic::ChainedCall</a>
  
    <li><a href="../NewRelic/CollectionHelper.html">NewRelic::CollectionHelper</a>
  
    <li><a href="../NewRelic/Command.html">NewRelic::Command</a>
  
    <li><a href="../NewRelic/Command/CommandFailure.html">NewRelic::Command::CommandFailure</a>
  
    <li><a href="../NewRelic/Command/Deployments.html">NewRelic::Command::Deployments</a>
  
    <li><a href="../NewRelic/Command/Install.html">NewRelic::Command::Install</a>
  
    <li><a href="../NewRelic/Control.html">NewRelic::Control</a>
  
    <li><a href="../NewRelic/Control/ClassMethods.html">NewRelic::Control::ClassMethods</a>
  
    <li><a href="../NewRelic/Control/Configuration.html">NewRelic::Control::Configuration</a>
  
    <li><a href="../NewRelic/Control/Frameworks.html">NewRelic::Control::Frameworks</a>
  
    <li><a href="../NewRelic/Control/Frameworks/External.html">NewRelic::Control::Frameworks::External</a>
  
    <li><a href="../NewRelic/Control/Frameworks/Merb.html">NewRelic::Control::Frameworks::Merb</a>
  
    <li><a href="../NewRelic/Control/Frameworks/Rails.html">NewRelic::Control::Frameworks::Rails</a>
  
    <li><a href="../NewRelic/Control/Frameworks/Rails3.html">NewRelic::Control::Frameworks::Rails3</a>
  
    <li><a href="../NewRelic/Control/Frameworks/Ruby.html">NewRelic::Control::Frameworks::Ruby</a>
  
    <li><a href="../NewRelic/Control/Frameworks/Sinatra.html">NewRelic::Control::Frameworks::Sinatra</a>
  
    <li><a href="../NewRelic/Control/InstanceMethods.html">NewRelic::Control::InstanceMethods</a>
  
    <li><a href="../NewRelic/Control/Instrumentation.html">NewRelic::Control::Instrumentation</a>
  
    <li><a href="../NewRelic/Control/LoggingMethods.html">NewRelic::Control::LoggingMethods</a>
  
    <li><a href="../NewRelic/Control/Profiling.html">NewRelic::Control::Profiling</a>
  
    <li><a href="../NewRelic/Control/ServerMethods.html">NewRelic::Control::ServerMethods</a>
  
    <li><a href="../NewRelic/DataSerialization.html">NewRelic::DataSerialization</a>
  
    <li><a href="../NewRelic/DataSerialization/ClassMethods.html">NewRelic::DataSerialization::ClassMethods</a>
  
    <li><a href="../NewRelic/DelayedJobInjection.html">NewRelic::DelayedJobInjection</a>
  
    <li><a href="../NewRelic/Instrumentation.html">NewRelic::Instrumentation</a>
  
    <li><a href="../NewRelic/Instrumentation/ActsAsSolrInstrumentation.html">NewRelic::Instrumentation::ActsAsSolrInstrumentation</a>
  
    <li><a href="../NewRelic/Instrumentation/ActsAsSolrInstrumentation/ParserMethodsInstrumentation.html">NewRelic::Instrumentation::ActsAsSolrInstrumentation::ParserMethodsInstrumentation</a>
  
    <li><a href="../NewRelic/LanguageSupport.html">NewRelic::LanguageSupport</a>
  
    <li><a href="../NewRelic/LanguageSupport/Control.html">NewRelic::LanguageSupport::Control</a>
  
    <li><a href="../NewRelic/LanguageSupport/DataSerialization.html">NewRelic::LanguageSupport::DataSerialization</a>
  
    <li><a href="../NewRelic/LanguageSupport/SynchronizedHash.html">NewRelic::LanguageSupport::SynchronizedHash</a>
  
    <li><a href="../NewRelic/LocalEnvironment.html">NewRelic::LocalEnvironment</a>
  
    <li><a href="../NewRelic/MerbBootLoader.html">NewRelic::MerbBootLoader</a>
  
    <li><a href="../NewRelic/MethodTraceStats.html">NewRelic::MethodTraceStats</a>
  
    <li><a href="../NewRelic/MetricData.html">NewRelic::MetricData</a>
  
    <li><a href="../NewRelic/MetricSpec.html">NewRelic::MetricSpec</a>
  
    <li><a href="../NewRelic/Metrics.html">NewRelic::Metrics</a>
  
    <li><a href="../NewRelic/NoticedError.html">NewRelic::NoticedError</a>
  
    <li><a href="../NewRelic/Rack.html">NewRelic::Rack</a>
  
    <li><a href="../NewRelic/Rack/BrowserMonitoring.html">NewRelic::Rack::BrowserMonitoring</a>
  
    <li><a href="../NewRelic/Rack/DeveloperMode.html">NewRelic::Rack::DeveloperMode</a>
  
    <li><a href="../NewRelic/Railtie.html">NewRelic::Railtie</a>
  
    <li><a href="../NewRelic/ScopedMethodTraceStats.html">NewRelic::ScopedMethodTraceStats</a>
  
    <li><a href="../NewRelic/Stats.html">NewRelic::Stats</a>
  
    <li><a href="../NewRelic/StatsBase.html">NewRelic::StatsBase</a>
  
    <li><a href="../NewRelic/TransactionAnalysis.html">NewRelic::TransactionAnalysis</a>
  
    <li><a href="../NewRelic/TransactionAnalysis/SegmentSummary.html">NewRelic::TransactionAnalysis::SegmentSummary</a>
  
    <li><a href="../NewRelic/TransactionSample.html">NewRelic::TransactionSample</a>
  
    <li><a href="../NewRelic/TransactionSample/CompositeSegment.html">NewRelic::TransactionSample::CompositeSegment</a>
  
    <li><a href="../NewRelic/TransactionSample/FakeSegment.html">NewRelic::TransactionSample::FakeSegment</a>
  
    <li><a href="../NewRelic/TransactionSample/Segment.html">NewRelic::TransactionSample::Segment</a>
  
    <li><a href="../NewRelic/TransactionSample/SummarySegment.html">NewRelic::TransactionSample::SummarySegment</a>
  
    <li><a href="../NewRelic/UrlRule.html">NewRelic::UrlRule</a>
  
    <li><a href="../NewRelic/UrlRule/RuleSet.html">NewRelic::UrlRule::RuleSet</a>
  
    <li><a href="../NewRelic/VersionNumber.html">NewRelic::VersionNumber</a>
  
    <li><a href="../ActionView.html">ActionView</a>
  
    <li><a href="../ActionView/Base.html">ActionView::Base</a>
  
    <li><a href="../ActionView/Partials.html">ActionView::Partials</a>
  
    <li><a href="../ActionView/Partials/PartialRenderer.html">ActionView::Partials::PartialRenderer</a>
  
    <li><a href="../ActionController.html">ActionController</a>
  
    <li><a href="../ActionController/Base.html">ActionController::Base</a>
  
    <li><a href="../Object.html">Object</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class NewRelic::TransactionSample</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-force_persist" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">force_persist</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-guid" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">guid</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-params" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">params</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-profile" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">profile</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-root_segment" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">root_segment</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-sample_id" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">sample_id</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(time = Time.now.to_f, sample_id = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">to_f</span>, <span class="ruby-identifier">sample_id</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@sample_id</span> = <span class="ruby-identifier">sample_id</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">object_id</span>
  <span class="ruby-ivar">@start_time</span> = <span class="ruby-identifier">time</span>
  <span class="ruby-ivar">@root_segment</span> = <span class="ruby-identifier">create_segment</span> <span class="ruby-value">0.0</span>, <span class="ruby-string">&quot;ROOT&quot;</span>
  <span class="ruby-ivar">@params</span> = {}
  <span class="ruby-ivar">@params</span>[<span class="ruby-value">:request_params</span>] = {}
  
  <span class="ruby-ivar">@guid</span> = (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">15</span>).<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">rand</span>(<span class="ruby-value">16</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-value">16</span>)}.<span class="ruby-identifier">join</span>  <span class="ruby-comment"># a 64 bit random GUID</span>
  <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span><span class="ruby-operator">::</span><span class="ruby-constant">TransactionInfo</span>.<span class="ruby-identifier">get</span>.<span class="ruby-identifier">guid</span> = <span class="ruby-ivar">@guid</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-count_segments" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">count_segments</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="count_segments-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">count_segments</span>
  <span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">count_segments</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>    <span class="ruby-comment"># don't count the root segment</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- count_segments-source -->
          
        </div>

        

        
      </div><!-- count_segments-method -->

    
      <div id="method-i-create_segment" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_segment</span><span
            class="method-args">(relative_timestamp, metric_name, segment_id = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="create_segment-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 75</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_segment</span>(<span class="ruby-identifier">relative_timestamp</span>, <span class="ruby-identifier">metric_name</span>, <span class="ruby-identifier">segment_id</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;Frozen Transaction Sample&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">frozen?</span>
  <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">TransactionSample</span><span class="ruby-operator">::</span><span class="ruby-constant">Segment</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">relative_timestamp</span>, <span class="ruby-identifier">metric_name</span>, <span class="ruby-identifier">segment_id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- create_segment-source -->
          
        </div>

        

        
      </div><!-- create_segment-method -->

    
      <div id="method-i-duration" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">duration</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="duration-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 80</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">duration</span>
  <span class="ruby-identifier">root_segment</span>.<span class="ruby-identifier">duration</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- duration-source -->
          
        </div>

        

        
      </div><!-- duration-method -->

    
      <div id="method-i-each_segment" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">each_segment</span><span
            class="method-args">(&block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Iterates recursively over each segment in the entire transaction sample
tree</p>
          

          
          <div class="method-source-code" id="each_segment-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each_segment</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">each_segment</span>(&amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- each_segment-source -->
          
        </div>

        

        
      </div><!-- each_segment-method -->

    
      <div id="method-i-each_segment_with_nest_tracking" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">each_segment_with_nest_tracking</span><span
            class="method-args">(&block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Iterates recursively over each segment in the entire transaction sample
tree while keeping track of nested segments</p>
          

          
          <div class="method-source-code" id="each_segment_with_nest_tracking-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each_segment_with_nest_tracking</span>(&amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">each_segment_with_nest_tracking</span>(&amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- each_segment_with_nest_tracking-source -->
          
        </div>

        

        
      </div><!-- each_segment_with_nest_tracking-method -->

    
      <div id="method-i-ensure_segment_count_set" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ensure_segment_count_set</span><span
            class="method-args">(count)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>makes sure that the parameter cache for segment count is set to the correct
value</p>
          

          
          <div class="method-source-code" id="ensure_segment_count_set-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ensure_segment_count_set</span>(<span class="ruby-identifier">count</span>)
  <span class="ruby-identifier">params</span>[<span class="ruby-value">:segment_count</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- ensure_segment_count_set-source -->
          
        </div>

        

        
      </div><!-- ensure_segment_count_set-method -->

    
      <div id="method-i-find_segment" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_segment</span><span
            class="method-args">(id)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Searches the tree recursively for the segment with the given id. note that
this is an internal id, not an ActiveRecord id</p>
          

          
          <div class="method-source-code" id="find_segment-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_segment</span>(<span class="ruby-identifier">id</span>)
  <span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">find_segment</span>(<span class="ruby-identifier">id</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- find_segment-source -->
          
        </div>

        

        
      </div><!-- find_segment-method -->

    
      <div id="method-i-omit_segments_with" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">omit_segments_with</span><span
            class="method-args">(regex)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>return a new transaction sample that treats segments with the given regular
expression in their name as if they were never called at all.  This allows
us to strip out segments from traces captured in development environment
that would not normally show up in production (like Rails/Application Code
Loading)</p>
          

          
          <div class="method-source-code" id="omit_segments_with-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 132</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">omit_segments_with</span>(<span class="ruby-identifier">regex</span>)
  <span class="ruby-identifier">regex</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">regex</span>)

  <span class="ruby-identifier">sample</span> = <span class="ruby-constant">TransactionSample</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@start_time</span>, <span class="ruby-identifier">sample_id</span>)

  <span class="ruby-identifier">params</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">params</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>}

  <span class="ruby-identifier">delta</span> = <span class="ruby-identifier">build_segment_with_omissions</span>(<span class="ruby-identifier">sample</span>, <span class="ruby-value">0.0</span>, <span class="ruby-ivar">@root_segment</span>, <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">root_segment</span>, <span class="ruby-identifier">regex</span>)
  <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">root_segment</span>.<span class="ruby-identifier">end_trace</span>(<span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">exit_timestamp</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">delta</span>)
  <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">profile</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">profile</span>
  <span class="ruby-identifier">sample</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- omit_segments_with-source -->
          
        </div>

        

        
      </div><!-- omit_segments_with-method -->

    
      <div id="method-i-params-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">params=</span><span
            class="method-args">(params)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="params-3D-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 170</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">params=</span>(<span class="ruby-identifier">params</span>)
  <span class="ruby-ivar">@params</span> = <span class="ruby-identifier">params</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- params-3D-source -->
          
        </div>

        

        
      </div><!-- params-3D-method -->

    
      <div id="method-i-path_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">path_string</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="path_string-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path_string</span>
  <span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">path_string</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- path_string-source -->
          
        </div>

        

        
      </div><!-- path_string-method -->

    
      <div id="method-i-prepare_to_send" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">prepare_to_send</span><span
            class="method-args">(options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Return a new transaction sample that can be sent to the New Relic service.
This involves potentially one or more of the following options</p>

<pre class="ruby">:<span class="ruby-identifier">explain_sql</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">run</span> <span class="ruby-constant">EXPLAIN</span> <span class="ruby-identifier">on</span> <span class="ruby-identifier">all</span> <span class="ruby-identifier">queries</span> <span class="ruby-identifier">whose</span> <span class="ruby-identifier">response</span> <span class="ruby-identifier">times</span> <span class="ruby-identifier">equal</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">value</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">this</span> <span class="ruby-identifier">key</span>
    (<span class="ruby-keyword">for</span> <span class="ruby-identifier">example</span> :<span class="ruby-identifier">explain_sql</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2.0</span> <span class="ruby-identifier">would</span> <span class="ruby-identifier">explain</span> <span class="ruby-identifier">everything</span> <span class="ruby-identifier">over</span> <span class="ruby-value">2</span> <span class="ruby-identifier">seconds</span>.  <span class="ruby-value">0.0</span> <span class="ruby-identifier">would</span> <span class="ruby-identifier">explain</span> <span class="ruby-identifier">everything</span>.)
:<span class="ruby-identifier">keep_backtraces</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">keep</span> <span class="ruby-identifier">backtraces</span>, <span class="ruby-identifier">significantly</span> <span class="ruby-identifier">increasing</span> <span class="ruby-identifier">size</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">trace</span> (<span class="ruby-identifier">off</span> <span class="ruby-identifier">by</span> <span class="ruby-identifier">default</span>)
:<span class="ruby-identifier">record_sql</span> =<span class="ruby-operator">&gt;</span> [ :<span class="ruby-identifier">raw</span> <span class="ruby-operator">|</span> :<span class="ruby-identifier">obfuscated</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">copy</span> <span class="ruby-identifier">over</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">sql</span>, <span class="ruby-identifier">obfuscating</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">necessary</span>
</pre>
          

          
          <div class="method-source-code" id="prepare_to_send-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 153</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">prepare_to_send</span>(<span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">sample</span> = <span class="ruby-constant">TransactionSample</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@start_time</span>, <span class="ruby-identifier">sample_id</span>)

  <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">params</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">params</span>
  <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">guid</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">guid</span>
  <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">force_persist</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">force_persist</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">force_persist</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">build_segment_for_transfer</span>(<span class="ruby-identifier">sample</span>, <span class="ruby-ivar">@root_segment</span>, <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">root_segment</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-constant">NewRelic</span><span class="ruby-operator">::</span><span class="ruby-constant">Agent</span><span class="ruby-operator">::</span><span class="ruby-constant">Database</span>.<span class="ruby-identifier">close_connections</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">sample</span>.<span class="ruby-identifier">root_segment</span>.<span class="ruby-identifier">end_trace</span>(<span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">exit_timestamp</span>)
  <span class="ruby-identifier">sample</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- prepare_to_send-source -->
          
        </div>

        

        
      </div><!-- prepare_to_send-method -->

    
      <div id="method-i-start_time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">start_time</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="start_time-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">start_time</span>
  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-ivar">@start_time</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- start_time-source -->
          
        </div>

        

        
      </div><!-- start_time-method -->

    
      <div id="method-i-timestamp" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">timestamp</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>offset from start of app</p>
          

          
          <div class="method-source-code" id="timestamp-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">timestamp</span>
  <span class="ruby-ivar">@start_time</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">@@start_time</span>.<span class="ruby-identifier">to_f</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- timestamp-source -->
          
        </div>

        

        
      </div><!-- timestamp-method -->

    
      <div id="method-i-to_s" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_s</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="to_s-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 106</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">s</span> = <span class="ruby-node">&quot;Transaction Sample collected at #{start_time}\n&quot;</span>
  <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;  {\n&quot;</span>
  <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  Path: #{params[:path]} \n&quot;</span>

  <span class="ruby-identifier">params</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-value">:path</span>
    <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;  #{k}: &quot;</span> <span class="ruby-operator">&lt;&lt;</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>
      <span class="ruby-keyword">when</span> <span class="ruby-constant">Enumerable</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:to_s</span>).<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;; &quot;</span>)
      <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">v</span>
      <span class="ruby-keyword">when</span> <span class="ruby-constant">Float</span> <span class="ruby-keyword">then</span> <span class="ruby-string">'%6.3s'</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">v</span>
      <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">then</span> <span class="ruby-string">''</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;unexpected value type for #{k}: '#{v}' (#{v.class})&quot;</span>
    <span class="ruby-keyword">end</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;  }\n\n&quot;</span>
  <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span>  <span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">to_debug_str</span>(<span class="ruby-value">0</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_s-source -->
          
        </div>

        

        
      </div><!-- to_s-method -->

    
      <div id="method-i-to_s_compact" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_s_compact</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="to_s_compact-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s_compact</span>
  <span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">to_s_compact</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_s_compact-source -->
          
        </div>

        

        
      </div><!-- to_s_compact-method -->

    
      <div id="method-i-truncate" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">truncate</span><span
            class="method-args">(max)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Truncates the transaction sample to a maximum length determined by the
passed-in parameter. Operates recursively on the entire tree of transaction
segments in a depth-first manner</p>
          

          
          <div class="method-source-code" id="truncate-source">
            <pre><span class="ruby-comment"># File lib/new_relic/transaction_sample.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">truncate</span>(<span class="ruby-identifier">max</span>)
  <span class="ruby-identifier">count</span> = <span class="ruby-identifier">count_segments</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">max</span>
  <span class="ruby-ivar">@root_segment</span>.<span class="ruby-identifier">truncate</span>(<span class="ruby-identifier">max</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)

  <span class="ruby-identifier">ensure_segment_count_set</span>(<span class="ruby-identifier">count</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- truncate-source -->
          
        </div>

        

        
      </div><!-- truncate-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.11.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

